<div id="flex-single-view" style="padding-top: 12px;">
  <h3>{{ 'devices.header' | translate }}</h3>
  <div class="flex-container">
    <div class="flex-header" style="width: 100%;">
      <app-devices-header *ngIf="headerObject" [data]="data[0]" [headerData]="headerObject"></app-devices-header>
    </div>
    <div class="flex-body">
        <mat-card>
            <mat-card-content class="forms-container">
                <div class="primary-form" [formGroup]="primaryForm">
                    <strong class="title">{{ 'devices.language' | translate }}</strong> 
                    <span
                      *ngIf="!disableForms"
                      matTooltip="{{ 'devices.keyboard-tooltip' | translate }}"
                      (click)="openKeyboard('primary')"
                      style="float: right; color: grey; cursor: pointer;"
                      ><i class="material-icons">keyboard</i></span
                    >
                    <hr />
                    <br /><br />
                    
                        <mat-form-field>
                            <input
                            #keyboardRef
                            #name
                            (focus)="scrollPage(name, 'primary', 'name', 0)"
                            formControlName="name"
                            matInput
                            placeholder="{{
                              'devices.name' | translate
                            }}"
                          />
                          <mat-error
                            *ngIf="
                              primary.name.touched && primary.name.hasError('required')
                            "
                          >
                          {{ "devices.validationMessages.name.required" | translate }}
                          </mat-error>
                        </mat-form-field>
                    
                        <mat-form-field>
                            <input
                            #keyboardRef
                            #serialNumber
                            (focus)="scrollPage(serialNumber, 'primary', 'serialNumber', 1)"
                            formControlName="serialNumber"
                            matInput
                            placeholder="{{
                              'devices.serialNumber' | translate
                            }}"
                          />
                          <mat-error
                            *ngIf="
                              primary.serialNumber.touched && primary.serialNumber.hasError('required')
                            "
                          >
                          {{ "devices.validationMessages.serialNumber.required" | translate }}
                          </mat-error>                        
                        </mat-form-field>
                    
                        <mat-form-field>
                            <input
                            #keyboardRef
                            #macAddress
                            (focus)="scrollPage(macAddress, 'primary', 'macAddress', 2)"
                            formControlName="macAddress"
                            matInput
                            placeholder="{{
                              'devices.macAddress' | translate
                            }}"
                          />
                          <mat-error
                            *ngIf="
                              primary.macAddress.touched && primary.macAddress.hasError('required')
                            "
                          >
                          {{ "devices.validationMessages.macAddress.required" | translate }}
                          </mat-error>
                        </mat-form-field>
                    
                        <mat-form-field>
                            <input
                            #keyboardRef
                            #ipAddress
                            (focus)="scrollPage(ipAddress, 'primary', 'ipAddress', 3)"
                            formControlName="ipAddress"
                            matInput
                            placeholder="{{
                              'devices.ipAddress' | translate
                            }}"
                          />
                          <mat-error
                            *ngIf="
                              primary.ipAddress.touched && primary.ipAddress.hasError('required')
                            "
                          >
                          {{ "devices.validationMessages.ipAddress.required" | translate }}
                          </mat-error>
                        </mat-form-field>
                    
                        <mat-form-field>
                            <input
                              matInput
                              [min]="minDate"
                              [matDatepicker]="picker"
                              formControlName="validity"
                              placeholder="{{ 'devices.validity' | translate }}"
                            />
                            <mat-datepicker-toggle
                              matSuffix
                              [for]="picker"
                            ></mat-datepicker-toggle>
                            <mat-datepicker #picker></mat-datepicker>
              
                          <mat-error
                            *ngIf="
                              primary.validity.touched && primary.validity.hasError('required')
                            "
                          >
                          {{ "devices.validationMessages.validity.required" | translate }}
                          </mat-error>
                        </mat-form-field>
                    
                        <mat-form-field>
                          <mat-label>{{ "devices.isActive" | translate }}</mat-label>
                          <mat-select
                            formControlName="isActive"
                            (selectionChange)="
                              copyDataToSecondaryForm('isActive', primary.isActive.value)
                            "
                          >
                            <mat-option
                              *ngFor="let data of dropDownValues.isActive"
                              [value]="data"
                            >
                              {{ data | status }}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                    
                        <mat-form-field>
                          <mat-label>{{ "devices.zone" | translate }}</mat-label>
                          <mat-select
                            formControlName="zone"
                            (selectionChange)="
                              copyDataToSecondaryForm('zone', primary.zone.value)
                            "
                          >
                            <mat-option
                              *ngFor="let data of dropDownValues.zone.primary"
                              [value]="data.code"
                            >
                              {{ data.name }}
                            </mat-option>
                          </mat-select>
                          <mat-error
                            *ngIf="
                              primary.zone.touched && primary.zone.hasError('required')
                            "
                          >
                          {{ "devices.validationMessages.zone.required" | translate }}
                          </mat-error>
                        </mat-form-field>
                    
                        <mat-label>{{
                          "devices.deviceSpecId" | translate
                        }}</mat-label>
                        <mat-select
                          formControlName="deviceSpecId"
                          (selectionChange)="
                            copyDataToSecondaryForm(
                              'deviceSpecId',
                              primary.deviceSpecId.value
                            )
                          "
                        >
                          <mat-option
                            *ngFor="let data of dropDownValues.deviceTypeCode.primary"
                            [value]="data.fieldCode"
                          >
                            {{ data.fieldValue }}
                          </mat-option>
                        </mat-select>                        
                    
                </div>    
                <mat-divider [vertical]="true" [inset]="true"></mat-divider>    
                    <div
                        *ngIf="
                          secondaryLanguageLabels && secondaryLang && showSecondaryForm
                        "
                        [formGroup]="secondaryForm"
                        [ngClass]="
                          secondaryLang === 'ara' ? 'secondary-form' : 'primary-form'
                        "
                    >
                    <strong class="title">{{secondaryLanguageLabels.language}}</strong>
                    <span
                      *ngIf="!disableForms"
                      matTooltip="{{ secondaryLanguageLabels['keyboard-tooltip'] }}"
                      (click)="openKeyboard('secondary')"
                      style="float: left; color: grey; cursor: pointer;"
                      ><i class="material-icons">keyboard</i></span
                    >
                    <hr />
                    <br /><br />
                    
                        <mat-form-field>
                         <input
                            #keyboardRef
                            #nameSecondary
                            (focus)="scrollPage(nameSecondary, 'secondary', 'name', 8)"
                            formControlName="name"
                            matInput
                            placeholder="{{
                              secondaryLanguageLabels.name
                            }}"
                          />
                        </mat-form-field>
                    
                        <mat-form-field>
                            <input
                            #keyboardRef
                            #serialNumberSecondary
                            (focus)="scrollPage(serialNumberSecondary, 'secondary', 'serialNumber', 9)"
                            formControlName="serialNumber"
                            matInput
                            placeholder="{{
                              secondaryLanguageLabels.serialNumber
                            }}"
                          />
                           
                        </mat-form-field>
                    
                        <mat-form-field>
                            <input
                            #keyboardRef
                            #macAddressSecondary
                            (focus)="scrollPage(macAddressSecondary, 'secondary', 'macAddress', 9)"
                            formControlName="macAddress"
                            matInput
                            placeholder="{{
                              secondaryLanguageLabels.macAddress
                            }}"
                          />
                           
                        </mat-form-field>
                    
                        <mat-form-field>
                            <input
                            #keyboardRef
                            #ipAddressSecondary
                            (focus)="scrollPage(ipAddressSecondary, 'secondary', 'ipAddress', 10)"
                            formControlName="ipAddress"
                            matInput
                            placeholder="{{
                              secondaryLanguageLabels.ipAddress
                            }}"
                          />
                        </mat-form-field>
                    
                        <mat-form-field>
                            <input
                              matInput
                              [min]="minDate"
                              [matDatepicker]="picker"
                              formControlName="validity"
                              placeholder="{{secondaryLanguageLabels.validity}}"
                            />
                            <mat-datepicker-toggle
                              matSuffix
                              [for]="picker"
                            ></mat-datepicker-toggle>
                            <mat-datepicker #picker></mat-datepicker>
              
                          <mat-error
                            *ngIf="
                              secondary.validity.touched && secondary.validity.hasError('required')
                            "
                          >
                          {{ "devices.validationMessages.validity.required" | translate }}
                          </mat-error>
                        </mat-form-field>
                    
                        <mat-form-field>
                          <mat-label>{{ secondaryLanguageLabels["isActive"] }}</mat-label>
                          <mat-select formControlName="isActive">
                            <mat-option
                              *ngFor="let data of dropDownValues.isActive"
                              [value]="data"
                            >
                              {{ data | status }}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                    
                        <mat-form-field>
                          <mat-label>{{ secondaryLanguageLabels["zone"]}}</mat-label>
                          <mat-select formControlName="zone">
                          <mat-option
                            *ngFor="let data of dropDownValues.zone.secondary"
                            [value]="data.code"
                          >
                            {{ data.name }}
                          </mat-option>
                          </mat-select>
                        </mat-form-field>
                    
                        <mat-form-field class="left-sizing">
                        <mat-label>{{
                          secondaryLanguageLabels.deviceSpecId
                        }}</mat-label>
                        <mat-select formControlName="deviceSpecId">
                          <mat-option
                            *ngFor="let data of dropDownValues.deviceTypeCode.secondary"
                            [value]="data.fieldCode"
                          >
                            {{ data.fieldValue }}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                </div>
            </mat-card-content>
            <mat-card-actions class="action-buttons">
                 <button
                    id="createButton"
                    mat-raised-button
                    (click)="submit()"
                  >
                    Save
                </button>
                <button mat-raised-button (click)="cancel()">
                    {{ "devices.cancel" | translate }}
                </button>
            </mat-card-actions>
        </mat-card>
    </div>
  </div>
</div>